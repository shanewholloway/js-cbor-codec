<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>cbor-codec</title>

  <link rel='icon' href='data:image/png;base64,' />
  <link rel='stylesheet' crossorigin='anonymous' href='https://cdn.jsdelivr.net/npm/purecss@1.0.1/build/pure-min.css' />
  <link rel='stylesheet' crossorigin='anonymous' href='https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism.css' />

  <style>
    body {
      margin: 2rem auto;
      padding: 2rem;
    }
  </style>

</head>

<body>

<main>
  <h1><a href='https://github.com/shanewholloway/js-cbor-codec#readme'>cbor-codec</a></h1>

  <p>Look in the developer console for output.</p>

  <p>See the <a href='https://github.com/shanewholloway/js-cbor-codec/blob/master/docs/api.md'>API docs</a>.</p>

  <p><a href='./unittest.html'>Unit tested</a></p>

<pre class='language-javascript'><code>
<script class='demo' type='module'>
import {cbor_encode, cbor_decode, u8_to_hex, hex_to_u8} from './esm/index.mjs'

const demo_data = {
  demo_cbor_support: new Date('2018-11-16T12:23:57-0700'),
  some_numbers:
    new Float32Array([
      Math.PI, 
      Math.SQRT2, Math.SQRT1_2, 
      Math.LN10, Math.LN2, 
      Math.E, Math.LOG10E, Math.LOG2E ]),
}

let demo_u8 = cbor_encode(demo_data)
console.log('cbor_encoded[u8]:', demo_u8)

let demo_hex = u8_to_hex(demo_u8)
console.log('cbor_encoded[hex]:', demo_hex)

let known_hex = (
  'a27164656d6f5f63626f725f737570706f7274c1fb' +
  '41d6fbc6534000006c736f6d655f6e756d62657273' +
  'd8555820db0f4940f304b53ff304353f8e5d134018' +
  '72313f54f82d40d95bde3e3baab83f')


console.log('Matching known:', demo_hex === known_hex)

console.log('Known decoded:', cbor_decode(hex_to_u8(known_hex)))

console.log('Round-trip decoded:', cbor_decode(hex_to_u8(demo_hex)))
</script></code></pre>

</main>

<script type='module'>
  import {cbor_encode, cbor_decode} from './esm/index.mjs';
  import {u8_to_hex, hex_to_u8, utf8_to_u8, u8_to_utf8, u8_concat} from './esm/index.mjs';

  Object.assign(window, {
    cbor_encode, cbor_decode,
    u8_to_hex, hex_to_u8,
    utf8_to_u8, u8_to_utf8,
    u8_concat })
</script>
	<script crossorigin='anonymous' src='https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/prism-core.js'></script>
	<script crossorigin='anonymous' src='https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/prism-clike.js'></script>
	<script crossorigin='anonymous' src='https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/prism-javascript.js'></script>
</body>
